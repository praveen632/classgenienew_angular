<ion-header>
    <ion-toolbar>
        <ion-icon name="arrow-back" (click)="back();" tappable></ion-icon>
        <ion-title>
            <div class="login-g das">
                {{item.stu_name}}
                <br><span>({{item.headerTitlePart}})</span>
            </div>
        </ion-title>
        <ion-buttons end>
			<button ion-button menuToggle end>
				<ion-icon name="menu" #content></ion-icon>
			</button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content padding>

	<div class="class-section">

		<button *ngIf="currentTab=='perform'" ion-button class="class-btn  width-c" (tap)="openPerformTab()">
		  Performance
		 </button>
		 <button *ngIf="currentTab != 'perform'" ion-button outline class="kid-btn  width-c" (tap)="openPerformTab()">
		  Performance
		 </button>

		<button *ngIf="currentTab != 'perform'" ion-button class="class-btn width-c" (tap)="openAttenTab()"> 
		Attendance
		</button>
		<button *ngIf="currentTab == 'perform'" ion-button outline class="kid-btn width-c" (tap)="openAttenTab()"> 
		Attendance
		</button>

	</div>

	<!-- START FOR PERFORM TAB CONTENT -->
	<div class="class-sec" *ngIf="currentTab=='perform'">

		<div class="view text-center">
			<p> 
				<ion-icon name="calendar" (click)="openPopover($event)" tappable>
				{{item.reportLabel}}	
				</ion-icon> 
				
			</p>
			<p> {{item.dateRangeLabel}} </p>
		</div>

		<!-- START || IF THERE IS DATA THEN DISPLAY THE GRAPH -->
		<div class="list-school" *ngIf="item.graph">
		  <canvas baseChart #baseChart="base-chart" width="400" height="250"
		    [datasets]="doughnutChartData"
		    [labels]="doughnutChartLabels"
		    [colors] = "chartColors"
		    [chartType]="doughnutChartType" 
		    [options]="chartOptions" 
		    (chartHover)="chartHovered($event)"
		    (chartClick)="chartClicked($event)">  
		  </canvas>
		</div>
		<!-- END || IF THERE IS DATA THEN DISPLAY THE GRAPH -->

		<!-- START || IF THERE IS NO DATA THEN DISPLAY IT -->
		<div *ngIf="item.nocontent" class="list-school ">
		    <div class="col col-100 graph_img">
		        <img src="assets/imgs/graph.png" />
		        <div class="positive_1">
		            <span>No points for current date selected</span>
		        </div>
		    </div>
		</div>
		<!-- END || IF THERE IS NO DATA THEN DISPLAY IT -->

		<!-- START || IF THERE IS DATA THEN DISPLAY THE LISTING -->
		<div class="m-school" *ngIf="!item.nocontent">
		<div class="list-margin">
		<div class="add-c  content-p">
		<ion-list *ngFor=" let item of reportList">
		    <ion-item>
		      <ion-thumbnail item-start>
		      <img src="{{imageBasePath}}skill/{{item.customize_detail.image}}">  
		      </ion-thumbnail>
		      <h2 *ngIf="item.point>0">+{{item.point}} for {{item.customize_detail.name}}</h2>
			  <h2 *ngIf="item.point<=0">{{item.point}} for {{item.customize_detail.name}}</h2>
		      <p>by {{item.class_name.teacher_name}}</p>
		    </ion-item>
		  </ion-list>
		</div>
		</div>
		</div>
		<!-- END || IF THERE IS DATA THEN DISPLAY THE LISTING -->

			
	</div>
	<!-- END FOR PERFORM TAB CONTENT -->

	<!-- START FOR ATTENDANCE TAB CONTENT -->
	<div class="class-sec" *ngIf="currentTab=='attendance'">

		<div class="view text-center">			
			<p (click)="openDateRangePop()" tappable> {{item.dateRangeLabel}} </p>
		</div>

		<div class="white-back  atten-head">
		    <ion-grid>
		        
		        <ion-row *ngFor="let attend of formatedAttendList">
		            <ion-col col-4 col-sm-9 col-md-6 col-lg-4 col-xl-2>
		                <ion-item>
		                    <h2>{{attend.date}}</h2>
		                </ion-item>
		            </ion-col>
		            <ion-col col-6 col-sm-9 col-md-6 col-lg-4 col-xl-9>
		                <ion-item>
		                    <h2 [style.color]="attend.colorTxt" >{{attend.label}}</h2>
		                </ion-item>
		            </ion-col>
		            <ion-col col-2 col-sm-9 col-md-6 col-lg-4 col-xl-1>
		                <div class="atten-img">
		                    <img src="assets/imgs/{{attend.image}}">
		                </div>
		            </ion-col>
		        </ion-row>
		    </ion-grid>
		</div>
	</div>
	<!-- END FOR ATTENDANCE TAB CONTENT -->

</ion-content>

<!-- START FOR STUDENT CLASS MENU -->
<ion-menu [content]="content">
    <ion-header>
      <ion-toolbar>
        <ion-title>Student's Class</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content>
      <ion-list >
        <ion-item *ngFor="let class of classList" (click)="getSpecificClassData(class.student_no,class['class_list'].class_id,class['class_list'].class_name)" tappable> 
         <a menuClose="left">{{class['class_list'].class_name}}</a>      
      </ion-item>
    </ion-list>
    </ion-content>
</ion-menu>
<!-- END FOR STUDENT CLASS MENU -->
